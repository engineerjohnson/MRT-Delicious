import{a as g}from"./AddToKeep-807f5202.js";import{s as b,p as l}from"./ProductStore-47920ae2.js";import{T as p}from"./Toast-0e28cdc5.js";import{_ as f,m as y,s as v,a as P,c as w,d as r,b as t,t as i,j as I,v as T,F as q,r as c,o as S,p as x,l as L}from"./index-033dfc34.js";import{L as A}from"./index-2a428af0.js";/* empty css              */import"./CartStore-bce31235.js";import"./KeepStore-20e4b487.js";const{VITE_APP_API:V,VITE_APP_PATH:E}={VITE_APP_API:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"deliciousfood",BASE_URL:"/MRT-Delicious/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},C={data(){return{isLoading:!1,product:{},cart_qty:1}},computed:{...y(l,["standProduct"])},components:{addToCard:g,swiperProductCard:b,Loading:A},methods:{getProduct(){this.isLoading=!0,v.get(`${V}/v2/api/${E}/product/${this.$route.params.productId}`).then(s=>{this.product=s.data.product,this.isLoading=!1}).catch(s=>{this.isLoading=!1,p.fire({title:`${s.response.data.message}`,icon:"error"})})},buttonReduce(s){return s==1},...P(l,["changeStandType","getProducts"])},watch:{cart_qty(s){(s<0||s=="")&&(p.fire({title:"「請輸入1以上的數字」",icon:"error"}),this.cart_qty=1),this.$emit("update:qty",this.local_qty)},product(s){this.getProducts(),this.changeStandType(s.unit)},$route:{handler(s,o){const n=s.params.productId,a=o.params.productId;s.name==o.name&&n!=a&&(this.getProduct(),this.cart_qty=1)}}},mounted(){this.getProduct()}},D=s=>(x("data-v-1d9b7276"),s=s(),L(),s),R={class:"content"},$={class:"container py-5"},k={class:"row py-5 justify-content-center"},B={class:"col-lg-5"},U=["src","alt"],j={class:"col-lg-5"},M={class:"mt-lg-0 ms-lg-3 mt-sm-3"},F={class:"badge rounded-pill bg-warning fs-6 mb-2"},H={class:"mb-2"},N={class:"bg-light d-flex align-items-center mb-2 w-100"},O=["disabled"],z={class:"d-flex justify-content-between align-items-center"},G={class:"fw-bold fs-5"},J={class:""},K=D(()=>t("div",{class:"border-bottom border-2"},[t("h4",{class:"fw-bold"},"鄰近美食")],-1)),Q={class:"tab-content mt-5"};function W(s,o,n,a,e,u){const _=c("Loading"),h=c("addToCard"),m=c("swiper-product-card");return S(),w(q,null,[r(_,{active:e.isLoading,"onUpdate:active":o[0]||(o[0]=d=>e.isLoading=d),loader:"dots"},null,8,["active"]),t("div",R,[t("div",$,[t("div",k,[t("div",B,[t("img",{src:this.product.imageUrl,alt:this.product.title,class:"w-100 radius-img"},null,8,U)]),t("div",j,[t("div",M,[t("h3",null,i(this.product.title),1),t("span",F,i(this.product.unit),1),t("div",null,[t("p",H,"商品描述："+i(this.product.description),1),t("p",null,"營業時段 "+i(this.product.content),1),t("div",N,[t("button",{type:"button",class:"btn px-0 border-0 width-10 buttonStyle",onClick:o[1]||(o[1]=d=>e.cart_qty--),disabled:u.buttonReduce(e.cart_qty)}," - ",8,O),I(t("input",{type:"number",class:"text-center border-0 width-90","onUpdate:modelValue":o[2]||(o[2]=d=>e.cart_qty=d)},null,512),[[T,e.cart_qty]]),t("button",{type:"button",class:"btn px-0 border-0 width-10 buttonStyle",onClick:o[3]||(o[3]=d=>e.cart_qty++)}," + ")]),t("div",z,[t("div",null,[t("span",G,"$"+i(this.product.price),1)]),t("div",J,[r(h,{product_id:this.product.id,qty:this.cart_qty},null,8,["product_id","qty"])])])])])])]),K,t("div",Q,[r(m,{products:s.standProduct},null,8,["products"])])])])],64)}const it=f(C,[["render",W],["__scopeId","data-v-1d9b7276"]]);export{it as default};
